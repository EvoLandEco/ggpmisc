<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>try_data_frame. ggpmisc 0.2.9</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">ggpmisc 0.2.9</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Convert an R object to a data frame</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>try_data_frame(x, time.resolution&nbsp;=&nbsp;"second", as.numeric&nbsp;=&nbsp;FALSE)</div></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>x</dt>
      <dd>An R object</dd>
      <dt>time.resolution</dt>
      <dd>character The time unit to which the returned time
values will be rounded.</dd>
      <dt>as.numeric</dt>
      <dd>logical If TRUE convert time to numeric, expressed as
fractional calendar years.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><dl>
A dataframe.
</dl></p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>

      <p>This functions tries to convert any R object into a data.frame object.
If <code>x</code> is already a data.frame, it is returned as is. If it is
a list or a vector it is converted by means of <code>as.data.frame()</code>.
If of any other type, a conversion into an object of class <code>xts</code> is
attempted by means of <code>try.xts()</code> and if succesful the <code>xts</code>
object is converted into a data frame with a variable <code>time</code>
containing times as <code>POSIXct</code> and the remaining data columns with
the time series data. In this conversion row names are stripped.</p>
  
    </div>

    <div class="Note">
      <h2>Note</h2>

      <p>This function can be used to easily converttime series data into a
  format that can be easily plotted with pacakge <code>ggplot2</code>.</p>
  
    </div>

    <div class="Warning!">
      <h2>Warning!</h2>

      <p>The time zone was set to "UTC" by try.xts() in the test
  cases I used. Setting TZ to "UTC" can cause some trouble as several
  frequently used functions have as default the local or system TZ and will
  apply a conversion before printing or plotting time data, which in addition
  is affected by summer/winter time transitions. This should be taken into
  account as even for yearly data when conversion is to POSIXct a day (1st of
  Jannuary) will be set, but then shifted some hours if printed on a TZ
  different from "UTC". I recommend reading the documentation of package
  <code><a href='http://www.inside-r.org/packages/cran/lubridate/docs/lubridate-package'>lubridate</a></code> where the irregularities of time data
  and the difficulties they cause are very well described. In many cases when
  working with time series with yearly observations it is best to work with
  numeric values for years.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'>library(xts)
</div>
<strong class='message'>Loading required package: zoo</strong>
<strong class='message'>
Attaching package: ‘zoo’
</strong>
<strong class='message'>The following objects are masked from ‘package:base’:

    as.Date, as.Date.numeric
</strong>
<div class='input'>try_data_frame(lynx)
</div>
<div class='output'>                   time V.lynx
1   1821-01-01 00:00:01    269
2   1822-01-01 00:00:01    321
3   1823-01-01 00:00:01    585
4   1824-01-01 00:00:01    871
5   1825-01-01 00:00:01   1475
6   1826-01-01 00:00:01   2821
7   1827-01-01 00:00:01   3928
8   1828-01-01 00:00:01   5943
9   1829-01-01 00:00:01   4950
10  1830-01-01 00:00:01   2577
11  1831-01-01 00:00:01    523
12  1832-01-01 00:00:01     98
13  1833-01-01 00:00:01    184
14  1834-01-01 00:00:01    279
15  1835-01-01 00:00:01    409
16  1836-01-01 00:00:01   2285
17  1837-01-01 00:00:01   2685
18  1838-01-01 00:00:01   3409
19  1839-01-01 00:00:01   1824
20  1840-01-01 00:00:01    409
21  1841-01-01 00:00:01    151
22  1842-01-01 00:00:01     45
23  1843-01-01 00:00:01     68
24  1844-01-01 00:00:01    213
25  1845-01-01 00:00:01    546
26  1846-01-01 00:00:01   1033
27  1847-01-01 00:00:01   2129
28  1848-01-01 00:00:01   2536
29  1849-01-01 00:00:01    957
30  1850-01-01 00:00:01    361
31  1851-01-01 00:00:01    377
32  1852-01-01 00:00:01    225
33  1853-01-01 00:00:01    360
34  1854-01-01 00:00:01    731
35  1855-01-01 00:00:01   1638
36  1856-01-01 00:00:01   2725
37  1857-01-01 00:00:01   2871
38  1858-01-01 00:00:01   2119
39  1859-01-01 00:00:01    684
40  1860-01-01 00:00:01    299
41  1861-01-01 00:00:01    236
42  1862-01-01 00:00:01    245
43  1863-01-01 00:00:01    552
44  1864-01-01 00:00:01   1623
45  1865-01-01 00:00:01   3311
46  1866-01-01 00:00:01   6721
47  1867-01-01 00:00:01   4254
48  1868-01-01 00:00:01    687
49  1869-01-01 00:00:01    255
50  1870-01-01 00:00:01    473
51  1871-01-01 00:00:01    358
52  1872-01-01 00:00:01    784
53  1873-01-01 00:00:01   1594
54  1874-01-01 00:00:01   1676
55  1875-01-01 00:00:01   2251
56  1876-01-01 00:00:01   1426
57  1877-01-01 00:00:01    756
58  1878-01-01 00:00:01    299
59  1879-01-01 00:00:01    201
60  1880-01-01 00:00:01    229
61  1881-01-01 00:00:01    469
62  1882-01-01 00:00:01    736
63  1883-01-01 00:00:01   2042
64  1884-01-01 00:00:01   2811
65  1885-01-01 00:00:01   4431
66  1886-01-01 00:00:01   2511
67  1887-01-01 00:00:01    389
68  1888-01-01 00:00:01     73
69  1889-01-01 00:00:01     39
70  1890-01-01 00:00:01     49
71  1891-01-01 00:00:01     59
72  1892-01-01 00:00:01    188
73  1893-01-01 00:00:01    377
74  1894-01-01 00:00:01   1292
75  1895-01-01 00:00:01   4031
76  1896-01-01 00:00:01   3495
77  1897-01-01 00:00:01    587
78  1898-01-01 00:00:01    105
79  1899-01-01 00:00:01    153
80  1900-01-01 00:00:01    387
81  1901-01-01 00:00:01    758
82  1902-01-01 00:00:01   1307
83  1903-01-01 00:00:01   3465
84  1904-01-01 00:00:01   6991
85  1905-01-01 00:00:01   6313
86  1906-01-01 00:00:01   3794
87  1907-01-01 00:00:01   1836
88  1908-01-01 00:00:01    345
89  1909-01-01 00:00:01    382
90  1910-01-01 00:00:01    808
91  1911-01-01 00:00:01   1388
92  1912-01-01 00:00:01   2713
93  1913-01-01 00:00:01   3800
94  1914-01-01 00:00:01   3091
95  1915-01-01 00:00:01   2985
96  1916-01-01 00:00:01   3790
97  1917-01-01 00:00:01    674
98  1918-01-01 00:00:01     81
99  1919-01-01 00:00:01     80
100 1920-01-01 00:00:01    108
101 1921-01-01 00:00:01    229
102 1922-01-01 00:00:01    399
103 1923-01-01 00:00:01   1132
104 1924-01-01 00:00:01   2432
105 1925-01-01 00:00:01   3574
106 1926-01-01 00:00:01   2935
107 1927-01-01 00:00:01   1537
108 1928-01-01 00:00:01    529
109 1929-01-01 00:00:01    485
110 1930-01-01 00:00:01    662
111 1931-01-01 00:00:01   1000
112 1932-01-01 00:00:01   1590
113 1933-01-01 00:00:01   2657
114 1934-01-01 00:00:01   3396
</div>
<div class='input'>try_data_frame(lynx, &quot;year&quot;)
</div>
<div class='output'>          time V.lynx
1   1821-01-01    269
2   1822-01-01    321
3   1823-01-01    585
4   1824-01-01    871
5   1825-01-01   1475
6   1826-01-01   2821
7   1827-01-01   3928
8   1828-01-01   5943
9   1829-01-01   4950
10  1830-01-01   2577
11  1831-01-01    523
12  1832-01-01     98
13  1833-01-01    184
14  1834-01-01    279
15  1835-01-01    409
16  1836-01-01   2285
17  1837-01-01   2685
18  1838-01-01   3409
19  1839-01-01   1824
20  1840-01-01    409
21  1841-01-01    151
22  1842-01-01     45
23  1843-01-01     68
24  1844-01-01    213
25  1845-01-01    546
26  1846-01-01   1033
27  1847-01-01   2129
28  1848-01-01   2536
29  1849-01-01    957
30  1850-01-01    361
31  1851-01-01    377
32  1852-01-01    225
33  1853-01-01    360
34  1854-01-01    731
35  1855-01-01   1638
36  1856-01-01   2725
37  1857-01-01   2871
38  1858-01-01   2119
39  1859-01-01    684
40  1860-01-01    299
41  1861-01-01    236
42  1862-01-01    245
43  1863-01-01    552
44  1864-01-01   1623
45  1865-01-01   3311
46  1866-01-01   6721
47  1867-01-01   4254
48  1868-01-01    687
49  1869-01-01    255
50  1870-01-01    473
51  1871-01-01    358
52  1872-01-01    784
53  1873-01-01   1594
54  1874-01-01   1676
55  1875-01-01   2251
56  1876-01-01   1426
57  1877-01-01    756
58  1878-01-01    299
59  1879-01-01    201
60  1880-01-01    229
61  1881-01-01    469
62  1882-01-01    736
63  1883-01-01   2042
64  1884-01-01   2811
65  1885-01-01   4431
66  1886-01-01   2511
67  1887-01-01    389
68  1888-01-01     73
69  1889-01-01     39
70  1890-01-01     49
71  1891-01-01     59
72  1892-01-01    188
73  1893-01-01    377
74  1894-01-01   1292
75  1895-01-01   4031
76  1896-01-01   3495
77  1897-01-01    587
78  1898-01-01    105
79  1899-01-01    153
80  1900-01-01    387
81  1901-01-01    758
82  1902-01-01   1307
83  1903-01-01   3465
84  1904-01-01   6991
85  1905-01-01   6313
86  1906-01-01   3794
87  1907-01-01   1836
88  1908-01-01    345
89  1909-01-01    382
90  1910-01-01    808
91  1911-01-01   1388
92  1912-01-01   2713
93  1913-01-01   3800
94  1914-01-01   3091
95  1915-01-01   2985
96  1916-01-01   3790
97  1917-01-01    674
98  1918-01-01     81
99  1919-01-01     80
100 1920-01-01    108
101 1921-01-01    229
102 1922-01-01    399
103 1923-01-01   1132
104 1924-01-01   2432
105 1925-01-01   3574
106 1926-01-01   2935
107 1927-01-01   1537
108 1928-01-01    529
109 1929-01-01    485
110 1930-01-01    662
111 1931-01-01   1000
112 1932-01-01   1590
113 1933-01-01   2657
114 1934-01-01   3396
</div>
<div class='input'>try_data_frame(austres)
</div>
<div class='output'>         time V.austres
1  1971-04-01   13067.3
2  1971-07-01   13130.5
3  1971-10-01   13198.4
4  1972-01-01   13254.2
5  1972-04-01   13303.7
6  1972-07-01   13353.9
7  1972-10-01   13409.3
8  1973-01-01   13459.2
9  1973-04-01   13504.5
10 1973-07-01   13552.6
11 1973-10-01   13614.3
12 1974-01-01   13669.5
13 1974-04-01   13722.6
14 1974-07-01   13772.1
15 1974-10-01   13832.0
16 1975-01-01   13862.6
17 1975-04-01   13893.0
18 1975-07-01   13926.8
19 1975-10-01   13968.9
20 1976-01-01   14004.7
21 1976-04-01   14033.1
22 1976-07-01   14066.0
23 1976-10-01   14110.1
24 1977-01-01   14155.6
25 1977-04-01   14192.2
26 1977-07-01   14231.7
27 1977-10-01   14281.5
28 1978-01-01   14330.3
29 1978-04-01   14359.3
30 1978-07-01   14396.6
31 1978-10-01   14430.8
32 1979-01-01   14478.4
33 1979-04-01   14515.7
34 1979-07-01   14554.9
35 1979-10-01   14602.5
36 1980-01-01   14646.4
37 1980-04-01   14695.4
38 1980-07-01   14746.6
39 1980-10-01   14807.4
40 1981-01-01   14874.4
41 1981-04-01   14923.3
42 1981-07-01   14988.7
43 1981-10-01   15054.1
44 1982-01-01   15121.7
45 1982-04-01   15184.2
46 1982-07-01   15239.3
47 1982-10-01   15288.9
48 1983-01-01   15346.2
49 1983-04-01   15393.5
50 1983-07-01   15439.0
51 1983-10-01   15483.5
52 1984-01-01   15531.5
53 1984-04-01   15579.4
54 1984-07-01   15628.5
55 1984-10-01   15677.3
56 1985-01-01   15736.7
57 1985-04-01   15788.3
58 1985-07-01   15839.7
59 1985-10-01   15900.6
60 1986-01-01   15961.5
61 1986-04-01   16018.3
62 1986-07-01   16076.9
63 1986-10-01   16139.0
64 1987-01-01   16203.0
65 1987-04-01   16263.3
66 1987-07-01   16327.9
67 1987-10-01   16398.9
68 1988-01-01   16478.3
69 1988-04-01   16538.2
70 1988-07-01   16621.6
71 1988-10-01   16697.0
72 1989-01-01   16777.2
73 1989-04-01   16833.1
74 1989-07-01   16891.6
75 1989-10-01   16956.8
76 1990-01-01   17026.3
77 1990-04-01   17085.4
78 1990-07-01   17106.9
79 1990-10-01   17169.4
80 1991-01-01   17239.4
81 1991-04-01   17292.0
82 1991-07-01   17354.2
83 1991-10-01   17414.2
84 1992-01-01   17447.3
85 1992-04-01   17482.6
86 1992-07-01   17526.0
87 1992-10-01   17568.7
88 1993-01-01   17627.1
89 1993-04-01   17661.5
</div>
<div class='input'>try_data_frame(austres, &quot;quarter&quot;)
</div>
<div class='output'>         time V.austres
1  1971-04-01   13067.3
2  1971-07-01   13130.5
3  1971-10-01   13198.4
4  1972-01-01   13254.2
5  1972-04-01   13303.7
6  1972-07-01   13353.9
7  1972-10-01   13409.3
8  1973-01-01   13459.2
9  1973-04-01   13504.5
10 1973-07-01   13552.6
11 1973-10-01   13614.3
12 1974-01-01   13669.5
13 1974-04-01   13722.6
14 1974-07-01   13772.1
15 1974-10-01   13832.0
16 1975-01-01   13862.6
17 1975-04-01   13893.0
18 1975-07-01   13926.8
19 1975-10-01   13968.9
20 1976-01-01   14004.7
21 1976-04-01   14033.1
22 1976-07-01   14066.0
23 1976-10-01   14110.1
24 1977-01-01   14155.6
25 1977-04-01   14192.2
26 1977-07-01   14231.7
27 1977-10-01   14281.5
28 1978-01-01   14330.3
29 1978-04-01   14359.3
30 1978-07-01   14396.6
31 1978-10-01   14430.8
32 1979-01-01   14478.4
33 1979-04-01   14515.7
34 1979-07-01   14554.9
35 1979-10-01   14602.5
36 1980-01-01   14646.4
37 1980-04-01   14695.4
38 1980-07-01   14746.6
39 1980-10-01   14807.4
40 1981-01-01   14874.4
41 1981-04-01   14923.3
42 1981-07-01   14988.7
43 1981-10-01   15054.1
44 1982-01-01   15121.7
45 1982-04-01   15184.2
46 1982-07-01   15239.3
47 1982-10-01   15288.9
48 1983-01-01   15346.2
49 1983-04-01   15393.5
50 1983-07-01   15439.0
51 1983-10-01   15483.5
52 1984-01-01   15531.5
53 1984-04-01   15579.4
54 1984-07-01   15628.5
55 1984-10-01   15677.3
56 1985-01-01   15736.7
57 1985-04-01   15788.3
58 1985-07-01   15839.7
59 1985-10-01   15900.6
60 1986-01-01   15961.5
61 1986-04-01   16018.3
62 1986-07-01   16076.9
63 1986-10-01   16139.0
64 1987-01-01   16203.0
65 1987-04-01   16263.3
66 1987-07-01   16327.9
67 1987-10-01   16398.9
68 1988-01-01   16478.3
69 1988-04-01   16538.2
70 1988-07-01   16621.6
71 1988-10-01   16697.0
72 1989-01-01   16777.2
73 1989-04-01   16833.1
74 1989-07-01   16891.6
75 1989-10-01   16956.8
76 1990-01-01   17026.3
77 1990-04-01   17085.4
78 1990-07-01   17106.9
79 1990-10-01   17169.4
80 1991-01-01   17239.4
81 1991-04-01   17292.0
82 1991-07-01   17354.2
83 1991-10-01   17414.2
84 1992-01-01   17447.3
85 1992-04-01   17482.6
86 1992-07-01   17526.0
87 1992-10-01   17568.7
88 1993-01-01   17627.1
89 1993-04-01   17661.5
</div>
<div class='input'>try_data_frame(cars)
</div>
<div class='output'>   speed dist
1      4    2
2      4   10
3      7    4
4      7   22
5      8   16
6      9   10
7     10   18
8     10   26
9     10   34
10    11   17
11    11   28
12    12   14
13    12   20
14    12   24
15    12   28
16    13   26
17    13   34
18    13   34
19    13   46
20    14   26
21    14   36
22    14   60
23    14   80
24    15   20
25    15   26
26    15   54
27    16   32
28    16   40
29    17   32
30    17   40
31    17   50
32    18   42
33    18   56
34    18   76
35    18   84
36    19   36
37    19   46
38    19   68
39    20   32
40    20   48
41    20   52
42    20   56
43    20   64
44    22   66
45    23   54
46    24   70
47    24   92
48    24   93
49    24  120
50    25   85
</div>
<div class='input'></div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>try_data_frame</li>
    </ul>
    <ul>
      
    </ul> -->
      
        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="https://getbootstrap.com/2.0.4/">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>